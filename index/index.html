<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bento Buddies - Find Bento Buddies at UBC</title>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="signup.css">
</head>
<body>
    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-content">
            <div class="hero-text">
                <h1>Find <span class="highlight">Bento Buddies.</span></h1>
                <h1>Make Plans Easily.</h1>
                <h1>Eat Happier at UBC.</h1>
                <p>Match with students who want to eat at the same time and discover new spots around campus.</p>
                <button class="login-btn" id="loginBtn">Log In</button>
            </div>
            <div class="hero-image">
                <img src="index.png" alt="Red Panda with Food">
            </div>
        </div>
    </section>

    <!-- Statistics Section -->
    <section class="stats-section">
        <div class="stat">
            <h2>1 000+</h2>
            <p>Users</p>
        </div>
        <div class="stat">
            <h2>45+</h2>
            <p>Restaurants Available</p>
        </div>
        <div class="stat">
            <h2>120+</h2>
            <p>Successful Meetups</p>
        </div>
    </section>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <div class="modal-header">
                <img src="login.png" alt="Red Panda" class="modal-logo">
            </div>
            <h2>Food Buddies</h2>

            <div class="error-message" id="loginError"></div>

            <button class="google-signin-btn" id="googleSignInBtn">
                <svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M17.6 9.2l-.1-1.8H9v3.4h4.8C13.6 12 13 13 12 13.6v2.2h3a8.8 8.8 0 0 0 2.6-6.6z" fill="#4285F4" fill-rule="nonzero"/><path d="M9 18c2.4 0 4.5-.8 6-2.2l-3-2.2a5.4 5.4 0 0 1-8-2.9H1V13a9 9 0 0 0 8 5z" fill="#34A853" fill-rule="nonzero"/><path d="M4 10.7a5.4 5.4 0 0 1 0-3.4V5H1a9 9 0 0 0 0 8l3-2.3z" fill="#FBBC05" fill-rule="nonzero"/><path d="M9 3.6c1.3 0 2.5.4 3.4 1.3L15 2.3A9 9 0 0 0 1 5l3 2.4a5.4 5.4 0 0 1 5-3.7z" fill="#EA4335" fill-rule="nonzero"/></g></svg>
                Sign in with Google
            </button>

            <div class="divider"><span>or</span></div>

            <form id="loginForm">
                <div class="form-group">
                    <label for="email">Email or Username</label>
                    <input type="text" id="email" placeholder="Enter your email or username" required>
                </div>

                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" placeholder="Enter your password" required>
                </div>

                <a href="#" class="forgot-password">Forgot password?</a>

                <button type="submit" class="submit-btn">Log In</button>

                <p class="signup-text">Don't have an account? <a href="#" class="signup-link" id="signupLink">Sign up</a></p>
            </form>
        </div>
    </div>

    <!-- Signup Modal -->
    <div class="signup-modal" id="signupModal">
        <div class="signup-modal-content">
            <button class="signup-close" id="signupClose">&times;</button>

            <div class="signup-header">
                <h2>Create Your Account</h2>
                <p class="signup-subtitle">Join Bento Buddies and find your food friends!</p>
            </div>

            <div class="error-message" id="signupError"></div>

            <!-- Progress Steps -->
            <div class="signup-progress">
                <div class="progress-step active" data-step="1">
                    <div class="progress-circle">1</div>
                    <div class="progress-label">Account</div>
                </div>
                <div class="progress-step" data-step="2">
                    <div class="progress-circle">2</div>
                    <div class="progress-label">Profile</div>
                </div>
                <div class="progress-step" data-step="3">
                    <div class="progress-circle">3</div>
                    <div class="progress-label">Preferences</div>
                </div>
            </div>

            <!-- Step 1: Account Info -->
            <div class="signup-step active" id="step1">
                <div class="signup-form-group">
                    <label for="signupEmail">Email</label>
                    <input type="email" id="signupEmail" placeholder="your.email@ubc.ca" required>
                </div>
                <div class="signup-form-group">
                    <label for="signupUsername">Username <span class="optional">(Optional - auto-generated from name if empty)</span></label>
                    <input type="text" id="signupUsername" placeholder="e.g., sabrina_yuan or leave empty">
                    <small id="usernameAvailability" style="display: none; margin-top: 0.5rem;"></small>
                </div>
                <div class="signup-form-group">
                    <label for="signupPassword">Password</label>
                    <input type="password" id="signupPassword" placeholder="At least 8 characters" required>
                </div>
                <div class="signup-form-group">
                    <label for="signupPasswordConfirm">Confirm Password</label>
                    <input type="password" id="signupPasswordConfirm" placeholder="Re-enter password" required>
                </div>
            </div>

            <!-- Step 2: Basic Info -->
            <div class="signup-step" id="step2">
                <div class="signup-form-group">
                    <label for="signupFirstName">First Name</label>
                    <input type="text" id="signupFirstName" placeholder="Enter your first name" required>
                </div>
                <div class="signup-form-group">
                    <label for="signupLastName">Last Name</label>
                    <input type="text" id="signupLastName" placeholder="Enter your last name" required>
                </div>
                <div class="signup-form-group">
                    <label for="signupYear">Year at UBC</label>
                    <select id="signupYear" required>
                        <option value="">Select your year</option>
                        <option value="1">1st Year</option>
                        <option value="2">2nd Year</option>
                        <option value="3">3rd Year</option>
                        <option value="4">4th Year</option>
                        <option value="5">5th Year+</option>
                        <option value="grad">Graduate Student</option>
                    </select>
                </div>
                <div class="signup-form-group">
                    <label for="signupMajor">Major</label>
                    <input type="text" id="signupMajor" placeholder="e.g., Computer Science" required>
                </div>
            </div>

            <!-- Step 3: Profile Details -->
            <div class="signup-step" id="step3">
                <div class="signup-form-group">
                    <label for="signupBio">Bio <span class="optional">(Optional)</span></label>
                    <textarea id="signupBio" placeholder="Tell us about yourself and your food preferences..."></textarea>
                </div>

                <div class="signup-form-group">
                    <label>Personality Tags <span class="optional">(Optional)</span></label>
                    <div class="personality-input-wrapper">
                        <input type="text" id="personalityTagInput" placeholder="e.g., Adventurous, Foodie">
                        <button type="button" class="add-tag-btn-small" id="addPersonalityTag">Add</button>
                    </div>
                    <div class="personality-tags-display" id="personalityTagsDisplay"></div>
                </div>

                <div class="signup-form-group">
                    <label for="signupFunFact">Fun Fact <span class="optional">(Optional)</span></label>
                    <input type="text" id="signupFunFact" placeholder="Something interesting about you...">
                </div>

                <div class="signup-form-group">
                    <label for="signupLastMeal">Last Meal on Earth <span class="optional">(Optional)</span></label>
                    <input type="text" id="signupLastMeal" placeholder="What would it be?">
                </div>

                <div class="signup-form-group">
                    <label>Favorite Foods <span class="optional">(Pick up to 3)</span></label>
                    <div class="food-emoji-grid" id="foodEmojiGrid">
                        <div class="food-emoji-item" data-emoji="üçï">üçï</div>
                        <div class="food-emoji-item" data-emoji="üçî">üçî</div>
                        <div class="food-emoji-item" data-emoji="üçú">üçú</div>
                        <div class="food-emoji-item" data-emoji="üç±">üç±</div>
                        <div class="food-emoji-item" data-emoji="üç£">üç£</div>
                        <div class="food-emoji-item" data-emoji="üåÆ">üåÆ</div>
                        <div class="food-emoji-item" data-emoji="üçù">üçù</div>
                        <div class="food-emoji-item" data-emoji="üçõ">üçõ</div>
                        <div class="food-emoji-item" data-emoji="üç≤">üç≤</div>
                        <div class="food-emoji-item" data-emoji="ü•ó">ü•ó</div>
                        <div class="food-emoji-item" data-emoji="ü•™">ü•™</div>
                        <div class="food-emoji-item" data-emoji="üåØ">üåØ</div>
                        <div class="food-emoji-item" data-emoji="ü•ô">ü•ô</div>
                        <div class="food-emoji-item" data-emoji="üçñ">üçñ</div>
                        <div class="food-emoji-item" data-emoji="üçó">üçó</div>
                    </div>
                    <div class="selected-count" id="foodSelectedCount">0 / 3 selected</div>
                </div>

                <div class="signup-form-group">
                    <label>Profile Picture <span class="optional">(Optional)</span></label>
                    <div class="profile-pic-upload">
                        <div class="profile-pic-preview" id="profilePicPreview">
                            <div class="profile-pic-placeholder">
                                <div class="icon">üì∑</div>
                                <div class="text">Click to upload</div>
                            </div>
                        </div>
                        <input type="file" id="profilePicInput" accept="image/*" style="display: none;">
                    </div>
                </div>
            </div>

            <!-- Navigation Buttons -->
            <div class="signup-buttons">
                <button type="button" class="signup-btn signup-btn-back" id="backBtn" style="display: none;">Back</button>
                <button type="button" class="signup-btn signup-btn-next" id="nextBtn">Next</button>
                <button type="button" class="signup-btn signup-btn-submit" id="submitBtn" style="display: none;">Create Account</button>
            </div>
        </div>
    </div>

    <script type="module" src="auth.js"></script>
</body>
</html>