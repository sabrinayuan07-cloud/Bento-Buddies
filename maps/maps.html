<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maps - UBC Meetup</title>
    <link rel="stylesheet" href="maps.css">
    <link rel="stylesheet" href="../shared/animations.css">
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <a href="../home/home.html"><button>Home</button></a>
            <a href="../maps/maps.html"><button class="active">Maps</button></a>
            <a href="../events/events.html"><button>Events</button></a>
            <a href="../messages/messages.html"><button>Messages</button></a>
            <a href="../profile/profile.html"><button>Profile</button></a>
        </div>
    </nav>

    <!-- Hero Banner -->
    <div class="hero-banner">
        <div class="hero-text">
            <h1>Choose a spot on the map</h1>
            <p>and plan your <em>own</em> meetup!</p>
        </div>
        <div class="hero-image">
            <img src="../Images/Red Panda2.png" alt="Cute Red Panda">
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Restaurant Card (Hidden by default) -->
        <div class="restaurant-card" id="restaurantCard">
            <div class="card-header">
                <img id="restaurantImage" class="card-image" src="" alt="Restaurant">
                <div class="search-bar">
                    <input type="text" id="restaurantNameDisplay" readonly>
                    <span>ğŸ”</span>
                </div>
                <div class="photo-badge">
                    ğŸ“· See photos
                </div>
            </div>
            <div class="card-content">
                <h2 class="restaurant-name" id="restaurantName">Restaurant Name</h2>
                <div class="rating">
                    <span id="rating">0.0</span>
                    <span class="stars" id="stars">â˜…â˜…â˜…â˜…â˜…</span>
                    <span id="reviewCount">(0)</span>
                    <span>â€¢</span>
                    <span id="priceLevel">$$</span>
                </div>
                <div class="restaurant-type" id="restaurantType">Restaurant</div>

                <div class="tabs">
                    <div class="tab active" data-tab="overview">Overview</div>
                    <div class="tab" data-tab="menu">Menu</div>
                    <div class="tab" data-tab="reviews">Reviews</div>
                    <div class="tab" data-tab="about">About</div>
                </div>

                <!-- Overview Tab -->
                <div class="tab-content active" id="overview-content">
                    <div class="action-buttons">
                        <div class="action-btn">
                            <div class="action-icon">ğŸ§­</div>
                            <span>Directions</span>
                        </div>
                        <div class="action-btn">
                            <div class="action-icon">ğŸ’¾</div>
                            <span>Save</span>
                        </div>
                        <div class="action-btn">
                            <div class="action-icon">ğŸ“</div>
                            <span>Nearby</span>
                        </div>
                        <div class="action-btn">
                            <div class="action-icon">ğŸ“±</div>
                            <span>Send to phone</span>
                        </div>
                        <div class="action-btn">
                            <div class="action-icon">â†—ï¸</div>
                            <span>Share</span>
                        </div>
                    </div>

                    <div class="order-buttons">
                        <button class="order-btn order-online">ğŸ›’ Order online</button>
                        <button class="order-btn waitlist">â° Join waitlist</button>
                    </div>

                    <div class="service-options">
                        âœ“ Dine-in â€¢ âœ“ Takeout
                    </div>

                    <div class="address">
                        <span>ğŸ“</span>
                        <span id="restaurantAddress">Address</span>
                    </div>
                </div>

                <!-- Menu Tab -->
                <div class="tab-content" id="menu-content">
                    <p style="color: #666; padding: 1rem 0;">Menu information not available. Visit the restaurant's website for details.</p>
                </div>

                <!-- Reviews Tab -->
                <div class="tab-content" id="reviews-content">
                    <div id="reviewsList">
                        <p style="color: #666;">Loading reviews...</p>
                    </div>
                </div>

                <!-- About Tab -->
                <div class="tab-content" id="about-content">
                    <div id="aboutInfo">
                        <p style="color: #666;">Loading information...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Map Section -->
        <div class="map-section">
            <div id="map"></div>
            <div class="selection-box">
                <div class="selection-text">
                    <span id="selectedRestaurant">Selected: None</span>
                </div>
                <button class="create-meetup-btn" id="createMeetupBtn" disabled>Create Meetup</button>
                <div class="success-message" id="successMessage">
                    Event added successfully! âœ“
                </div>
            </div>
        </div>
    </div>

    <!-- Photo Viewer Modal (Google Maps Style) -->
    <div class="photo-viewer-modal" id="photoViewerModal">
        <button class="photo-close-btn" id="photoCloseBtn">Ã—</button>
        <button class="photo-nav photo-prev" id="photoPrevBtn">â€¹</button>
        <button class="photo-nav photo-next" id="photoNextBtn">â€º</button>
        <div class="photo-viewer-content">
            <img id="photoViewerImage" src="" alt="Restaurant Photo" class="viewer-image">
            <div class="photo-counter" id="photoCounter">1 / 5</div>
        </div>
    </div>

    <!-- Meetup Creation Modal -->
    <div class="modal" id="meetupModal">
        <div class="modal-content">
            <h2 class="modal-title">Create Your Meetup</h2>
            <p class="modal-subtitle">At: <span id="modalRestaurantName">Restaurant Name</span></p>

            <div class="form-group">
                <label class="input-label">ğŸ“… Select Date</label>
                <div class="input-wrapper">
                    <input type="date" id="meetupDate" required>
                    <span class="error-icon" id="dateError">âš ï¸</span>
                </div>
            </div>

            <div class="form-group">
                <label class="input-label">ğŸ• Select Time</label>
                <div class="time-picker-wrapper">
                    <select id="meetupHour" class="time-select">
                        <option value="">Hour</option>
                        <option value="08">08</option>
                        <option value="09">09</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                        <option value="18">18</option>
                        <option value="19">19</option>
                        <option value="20">20</option>
                        <option value="21">21</option>
                        <option value="22">22</option>
                    </select>
                    <span class="time-separator">:</span>
                    <select id="meetupMinute" class="time-select">
                        <option value="">Min</option>
                        <option value="00">00</option>
                        <option value="15">15</option>
                        <option value="30">30</option>
                        <option value="45">45</option>
                    </select>
                </div>
                <span class="error-icon" id="timeError">âš ï¸</span>
            </div>

            <div class="form-group">
                <label class="input-label">ğŸ‘¥ Spots Available (Max 10)</label>
                <div class="input-wrapper">
                    <input type="number" id="meetupSpots" placeholder="1-10" min="1" max="10" required>
                    <span class="spots-hint">Maximum 10 spots</span>
                    <span class="error-icon" id="spotsError">âš ï¸</span>
                </div>
            </div>

            <div class="form-group">
                <label class="input-label">ğŸ“ Details (Optional)</label>
                <div class="input-wrapper">
                    <textarea id="meetupDetails" placeholder="Any details for your meetup?" rows="3"></textarea>
                </div>
            </div>

            <div class="modal-buttons">
                <button class="modal-btn create-btn" id="confirmBtn">Create Meetup</button>
            </div>
        </div>
    </div>

    <!-- Success Popup -->
    <div class="success-popup" id="successPopup">
        <div class="success-content">
            <div class="success-icon">âœ“</div>
            <h3>Meetup Created!</h3>
            <p>Your meetup has been successfully created.</p>
        </div>
    </div>

    <script src="../shared/animations.js"></script>
    <script type="module" src="../src/pages/maps.js"></script>
</body>
</html>